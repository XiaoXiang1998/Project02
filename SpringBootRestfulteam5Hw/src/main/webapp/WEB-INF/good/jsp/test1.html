<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form id="GoodFormat">
        <button type="button" class="btn btn-primary dropdown-toggle" id="insertFormatImage">新增規格圖片</button>
        <div class="row row-col-2" id="tranferToFormatTable">
            <div class="col">
                <input type="file" name="photo1" class="InsertPhoto">
            </div>
            <div class="col">
                <input type="file" name="photo2" class="InsertPhoto">
            </div>
            <div class="col">
                <input type="file" name="photo3" class="InsertPhoto">
            </div>
            <div class="col">
                <input type="file" name="photo4" class="InsertPhoto">
            </div>
        </div>
        <table id="FormatTable">
            <thead>
                <th>規格圖片</th>
                <th>商品大小</th>
                <th>商品價格</th>
                <th>商品庫存數</th>
                <th>刪除規格</th>
                <th>新增規格</th>
            </thead>
            <tbody id="formatdata">
                <tr>
                    <td><img src="" alt=""></td>
                    <td><input type="text" name="GoodSize"></td>
                    <td><input type="text" name="GoodPrice"></td>
                    <td><input type="text" name="GoodsStock"></td>
                    <td><button class="btndelete">刪除</button></td>
                    <td><button class="btnInsert">新增</button></td>
                </tr>
                <tr>
                    <td><img src="" alt=""></td>
                    <td><input type="text" name="GoodSize"></td>
                    <td><input type="text" name="GoodPrice"></td>
                    <td><input type="text" name="GoodsStock"></td>
                    <td><button class="btndelete">刪除</button></td>
                    <td><button class="btnInsert">新增</button></td>
                </tr>
                <tr>
                    <td><img src="" alt="" style="height: 100px;width: 100px;"></td>
                    <td><input type="text" name="GoodSize"></td>
                    <td><input type="text" name="GoodPrice"></td>
                    <td><input type="text" name="GoodsStock"></td>
                    <td><button class="btndelete">刪除</button></td>
                    <td><button class="btnInsert">新增</button></td>
                </tr>
                <tr>
                    <td><img src="" alt=""></td>
                    <td><input type="text" name="GoodSize"></td>
                    <td><input type="text" name="GoodPrice"></td>
                    <td><input type="text" name="GoodsStock"></td>
                    <td><button class="btndelete">刪除</button></td>
                    <td><button class="btnInsert">新增</button></td>
                </tr>
            </tbody>
        </table>
    </form>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script>
        $('.InsertPhoto').change(function(){
            // let test = new Array("Hello");
            // test.
            let index = $(this).prop("name").substring(5);//ex:photo1 取得 1
            let formattr = $('#formatdata').children();
            let arrformattr = [...formattr];
            let connectdata = arrformattr[Number.parseInt(index)];
            // let connectdata = arrformattr[1];

            // let arrconnectdata = [...connectdata];
            console.log(connectdata.children[0]);
        })
        console.log($('#tranferToFormatTable').find("div"));
        $('.btnInsert').closest('td').prop("rowspan");
        console.log($('.btnInsert').closest('td').prop("rowspan"));
        
    </script>

</body>
</html>